import"./modulepreload-polyfill-B5Qt9EMX.js";class i{constructor(){this.baseURL="https://goweather.xyz/weather/",this.init()}init(){this.cityInput=document.getElementById("cityInput"),this.getWeatherBtn=document.getElementById("getWeatherBtn"),this.loading=document.getElementById("loading"),this.error=document.getElementById("error"),this.weatherResult=document.getElementById("weatherResult"),this.cityName=document.getElementById("cityName"),this.currentTemp=document.getElementById("currentTemp"),this.weatherDesc=document.getElementById("weatherDesc"),this.windSpeed=document.getElementById("windSpeed"),this.forecastCards=document.getElementById("forecastCards"),this.getWeatherBtn.addEventListener("click",()=>this.getWeather()),this.cityInput.addEventListener("keypress",t=>{t.key==="Enter"&&this.getWeather()}),this.checkUrlParams()}checkUrlParams(){const e=new URLSearchParams(window.location.search).get("city");e&&(this.cityInput.value=e,this.getWeather())}async getWeather(){const t=this.cityInput.value.trim();if(!t){this.showError("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞");return}this.setLoading(!0),this.hideError(),this.hideWeatherResult();try{const e=await fetch(`${this.baseURL}${encodeURIComponent(t)}`);if(!e.ok)throw new Error(`–û—à–∏–±–∫–∞ HTTP! –°—Ç–∞—Ç—É—Å: ${e.status}`);const s=await e.json();if(!s.temperature||s.temperature==="")throw new Error("–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã");this.displayWeather(t,s),this.updateUrl(t)}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–≥–æ–¥—ã:",e),this.showError(`–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–æ—Ä–æ–¥–∞ "${t}". –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.`)}finally{this.setLoading(!1)}}displayWeather(t,e){this.cityName.textContent=t,this.currentTemp.textContent=e.temperature,this.weatherDesc.textContent=e.description,this.windSpeed.textContent=e.wind,this.updateForecast(e.forecast),this.weatherResult.classList.remove("hidden")}updateForecast(t){this.forecastCards.innerHTML="",t.forEach(e=>{const s=document.createElement("div");s.className="forecast-card";let r="";switch(e.day){case"1":r="–ó–∞–≤—Ç—Ä–∞";break;case"2":r="–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞";break;case"3":r="–ß–µ—Ä–µ–∑ 3 –¥–Ω—è";break;default:r=`–î–µ–Ω—å ${e.day}`}s.innerHTML=`
                <div class="forecast-day">${r}</div>
                <div class="forecast-temp">${e.temperature}</div>
                <div class="forecast-wind">üí® ${e.wind}</div>
            `,this.forecastCards.appendChild(s)})}updateUrl(t){const e=new URL(window.location);e.searchParams.set("city",t),window.history.replaceState({},"",e)}setLoading(t){t?(this.loading.classList.remove("hidden"),this.getWeatherBtn.disabled=!0,this.getWeatherBtn.textContent="–ó–∞–≥—Ä—É–∑–∫–∞..."):(this.loading.classList.add("hidden"),this.getWeatherBtn.disabled=!1,this.getWeatherBtn.textContent="–ü–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É")}showError(t){this.error.textContent=t,this.error.classList.remove("hidden")}hideError(){this.error.classList.add("hidden")}hideWeatherResult(){this.weatherResult.classList.add("hidden")}}document.addEventListener("DOMContentLoaded",()=>{new i});console.log("–ü–æ–≥–æ–¥–Ω—ã–π –≤–∏–¥–∂–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω. –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!");
